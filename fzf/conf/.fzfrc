#!/bin/bash
export FZF_MOVEMENT="--bind='ctrl-s:preview-page-down' \
	--bind='ctrl-a:preview-page-up' \
	--bind='ctrl-u:half-page-up+refresh-preview' \
	--bind='alt-u:page-up+refresh-preview' \
	--bind='ctrl-d:half-page-down+refresh-preview' \
	--bind='alt-d:page-down+refresh-preview' \
  --bind='alt-y:yank' \
  --bind='ctrl-y:kill-line' \
  --bind='alt-g:ignore' \
  --bind='ctrl-g:top' \
	--bind='alt-a:toggle-all' \
  --bind='alt-s:toggle-sort' \
  --bind='alt-h:backward-char+refresh-preview' \
  --bind='alt-l:forward-char+refresh-preview' \
  --bind='ctrl-l:clear-screen'"
 export FZF_DEFAULT_COMMAND="rg -uu \
  --files \
  -H"
export FZF_ALT_COMMAND="fd -uu -t f"
export FZF_PREVIEW="nvimpager {}"
export FZF_DEFAULT_OPTS="$FZF_MOVEMENT \
	--bind='ctrl-h:execute(moreman {})' \
  --bind='ctrl-p:toggle-preview' \
  --bind='ctrl-v:execute(nvimpager {})' \
  --bind='f8:preview(nvimpager {})'
  --bind='f9:preview(moreman {} 2>/dev/null)' \
	--tiebreak='length,index' \
  --preview-window 'right:68:wrap'
  --height=100
	--exact \
	--info='inline' \
	--cycle \
  --reverse \
	--multi \
	--ansi"
if [[ -z "$DISPLAY" ]]; then
  FZF_DEFAULT_OPTS+="
	--color=info:#ffff00 \
  --color=prompt:#808080\
  --color=pointer:#c0c0c0 \
  --color=hl+:#ff00ff \
	--color=marker:#14f73e \
  --color=spinner:#ff0000 \
  --color=header:#0fffd7 \
  --color=border:#800000 \
  --color=hl:#000080 \
	--color=preview-fg:#22f040 \
  --color=preview-bg:-1 \
  --color=fg:-1 \
	--color=fg+:#000080 \
  --preview='${FZF_PREVIEW:+"cnat; $FZF_PREVIEW"}'";
    else
      source .fzfguirc
fi
